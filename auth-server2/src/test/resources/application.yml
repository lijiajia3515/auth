spring:
  profiles:
    active: local
  application:
    name: auth-server-v2
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: GMT+8
    locale: zh_CN
    default-property-inclusion: non_empty
    property-naming-strategy: UPPER_CAMEL_CASE
    serialization:
      WRITE_DATES_AS_TIMESTAMPS: false
      WRITE_DATE_KEYS_AS_TIMESTAMPS: false
      WRITE_DATES_WITH_ZONE_ID: false
    deserialization:
      ADJUST_DATES_TO_CONTEXT_TIME_ZONE: false
  mvc:
    static-path-pattern: /**
  freemarker:
    cache: false
    settings:
      template_update_delay: 0
  data:
    mongodb:
      auto-index-creation: true
  webflux:
    format:
      date: yyyy-MM-dd HH:mm:ss
  security:
    oauth2:
      client:
        provider:
          spring:
            issuer-uri: http://${hfhk.auth.server}
        registration:
          hfhk-dhgxjsj:
            provider: spring
            client-id: hfhk_dhgxjsj
            client-secret: hfhk_dhgxjsj
            client-name: 东湖高新建设局
            authorization-grant-type: authorization_code
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
            scope:
              - openid
          hfhk-common-check-client-credentials:
            provider: spring
            client-id: hfhk_common_check
            client-secret: hfhk_client_common_check
            client-name: 浩方恒科-客户端-检查服务
            authorization-grant-type: client_credentials
            scope:
              - message.read
              - message.write
      resourceserver:
        jwt:
          jwk-set-uri: http://${hfhk.auth.server}/oauth2/jwks

security:
  oauth2:
    client:
      id: ${random.value}
      client-id: ${hfhk.auth.client.id:hfhk_auth}
      client-secret: ${hfhk.auth.client.id:hfhk_auth}
      grant-type: client_credentials
      access-token-uri: http://${hfhk.auth.server:auth}/oauth2/token

server:
  http2:
    enabled: true
  max-http-header-size: 16KB
  servlet:
    encoding:
      force: true

logging:
  level:
    root: INFO
    com.hfhk: DEBUG
    org.springframework: debug
    org.springframework.security: INFO
    org.springframework.security.oauth2: INFO
    #org.springframework.boot.autoconfigure: DEBUG
